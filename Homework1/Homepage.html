<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Homepage</title>
    <link rel="stylesheet" href="css/Homepage.css">
    <link rel="stylesheet" href="css/newSignIn.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <!--NavBar Part-->
    <div class="topnav" id="myTopnav">
        <a href="Homepage.html" class="active">Home</a>
        <a href="Restaurants.html">Restaurants</a>
        <a href="MyCart.html">My Cart</a>
        <a href="trackMealPage.html">My Order</a>
        <a href=#LoginModel data-toggle="modal" data-target="#LoginModal">Sign In</a>
        <a href=#SignUpModel data-toggle="modal" data-target="#SignUpModal">Sign Up</a>
        <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
    </div>

    <!--Carousel images-->
    <div style="position:absolute">
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                <li data-target="#myCarousel" data-slide-to="1"></li>
                <li data-target="#myCarousel" data-slide-to="2"></li>
            </ol>

            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="css/breakfast-vegan-healthy-eat-160805.jpeg" alt="break" width="1200" height="700">
                    <div class="carousel-caption">
                        <h2>Breakfast</h2>
                        <p>Yoooooooooo</p>
                    </div>
                </div>

                <div class="item">
                    <img src="css/food-eating-potatoes-beer.jpg" alt="potato" width="1200" height="700">
                    <div class="carousel-caption">
                        <h2>Potato and Beer</h2>
                        <p>Yeeeeeeeeeee</p>
                    </div>
                </div>

                <div class="item">
                    <img src="css/food-plate-wood-restaurant.jpg" alt="Wood" width="1200" height="700">
                    <div class="carousel-caption">
                        <h2>Fish and Chips</h2>
                        <p>Haaaaaaaaaaa</p>
                    </div>
                </div>
            </div>

            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>

    <!--Login-->
    <div style="position:absolute">
        <div class="modal fade" id="LoginModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" data-backdrop="static"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h3 class="modal-title" id="lineModalLabel">Login In</h3>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="SignInInputEmail1">Email address</label>
                                <input type="email" class="form-control" id="SignInInputEmail1" placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="SignInInputPassword1">Password</label>
                                <input type="password" class="form-control" id="SignInInputPassword1" placeholder="Password">
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" id="myCheckSignIn"> I am A Restaurant
                                </label>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" role="button" data-backdrop="static">Close</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" id="login" class="btn btn-success" data-dismiss="modal" data-toggle="modal" data-target="#PopUpMessageSignIn"
                                        role="button" data-backdrop="static" onclick="return checkSignin()">
                                    Login
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--SignUp-->
    <div style="position:absolute">
        <div class="modal fade" id="SignUpModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h3 class="modal-title" id="lineModalLabel">Sign Up</h3>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="InputEmail">Email address</label>
                                <input type="email" class="form-control" id="InputEmail" placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="InputPassword">Password</label>
                                <input type="password" class="form-control" id="InputPassword" placeholder="Password">
                            </div>
                            <div class="form-group">
                                <label for="ConfirmPassword"> Confirm Password</label>
                                <input type="password" class="form-control" id="ConfirmPassword" placeholder="Re-enter Password">
                            </div>
                            <div class="form-group">
                                <label for="address">Address</label>
                                <input type="text" class="form-control" id="address" placeholder="Your home address">
                            </div>
                            <div class="form-group">
                                <label for="phonenum">Phone Number</label>
                                <input type="tel" class="form-control" id="phonenum" placeholder="Your phone number">
                            </div>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" id="myCheckSignUp"> I am A Restaurant
                                </label>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" role="button">Close</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" id="signup" class="btn btn-success" data-dismiss="modal" data-toggle="modal" data-target="#PopUpMessageSignUp"
                                        role="button" data-backdrop="static" onclick="return checkSignUp()">
                                    Confirm
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--toAdd that used to add pop up login results-->
    <div style="position:absolute">
        <div class="modal fade" id="PopUpMessageSignIn" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h3 class="modal-title" id="lineModalLabel">Result</h3>
                    </div>
                    <div class="modal-body">
                        <div id="toAdd"></div>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" role="button" onclick="return deletediv()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--toAdd that used when Sign In success-->
    <div style="position:absolute">
        <div class="modal fade" id="PopUpMessageSignInSuccess" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h3 class="modal-title" id="lineModalLabel">Result</h3>
                    </div>
                    <div class="modal-body">
                        <div id="toAddSignInSuccess"></div>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-success" data-dismiss="modal" role="button" onclick="return decideRestOrCust()">Dashboard</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--toAdd that used to add pop up signup results-->
    <div style="position:absolute">
        <div class="modal fade" id="PopUpMessageSignUp" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h3 class="modal-title" id="lineModalLabel">Result</h3>
                    </div>
                    <div class="modal-body">
                        <div id="toAddSignUp"></div>
                    </div>
                    <div class="modal-footer">
                        <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" role="button" onclick="return deletedivSignUp()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function createCustomer(emailadd, psw) {
            this.email = emailadd;
            this.password = psw;
        }

        function createRestaurant(emailadd, psw) {
            this.email = emailadd;
            this.password = psw;
        }

        //var theCustomer = new createCustomer();
        //var theRestaurant = new createRestaurant();

        function checkSignin() {
            var SignInemail = document.getElementById("SignInInputEmail1");
            var SignInpassword = document.getElementById("SignInInputPassword1");

            var isChecked = document.getElementById("myCheckSignIn").checked;
            if (isChecked) {
                var existemail = localStorage.getItem("Restaurantemail");
                var existpassword = localStorage.getItem("Restaurantpassword");
                var newdiv = document.createElement("div");
                var successdiv = document.createElement("div");

                if (SignInemail.value !== "" && SignInpassword.value !== "") {
                    if (existemail === SignInemail.value) {                     
                        successdiv.className = 'alert alert-success';
                        successdiv.innerHTML = 'Success! Restaurant owner welcome!';
                        document.getElementById('toAddSignInSuccess').appendChild(successdiv);
                        localStorage.setItem("successSignInRest", 1);
                        var changeLoginModal = document.getElementById('login');
                        changeLoginModal.dataset.target = '#PopUpMessageSignInSuccess';
                    }
                    else {
                        newdiv.className = 'alert alert-danger';
                        newdiv.innerHTML = 'Error! E-mail address and password does not match.';
                        document.getElementById('toAdd').appendChild(newdiv);
                    }
                }
                else {
                    newdiv.className = 'alert alert-warning';
                    newdiv.innerHTML = 'Warn! Please enter your e-mail and password.';
                    document.getElementById('toAdd').appendChild(newdiv);
                }
            }
            else {
                var existemail = localStorage.getItem("Customeremail");
                var existpassword = localStorage.getItem("Customerpassword");
                var newdiv = document.createElement("div");
                var successdiv = document.createElement("div");

                if (SignInemail.value !== "" && SignInpassword.value !== "") {
                    if (existemail === SignInemail.value) {                       
                        successdiv.className = 'alert alert-success';
                        successdiv.innerHTML = 'Success! You can get your order NOW!';
                        document.getElementById('toAddSignInSuccess').appendChild(successdiv);
                        localStorage.setItem("successSignInCust", 1);
                        var changeLoginModal = document.getElementById('login');
                        changeLoginModal.dataset.target = '#PopUpMessageSignInSuccess';
                    }
                    else {
                        newdiv.className = 'alert alert-danger';
                        newdiv.innerHTML = 'Error! E-mail address and password does not match.';
                        document.getElementById('toAdd').appendChild(newdiv);
                    }
                }
                else {
                    newdiv.className = 'alert alert-warning';
                    newdiv.innerHTML = 'Warn! Please enter your e-mail and password.';
                    document.getElementById('toAdd').appendChild(newdiv);
                }
            }
        }

        function checkSignUp() {
            var InputSignUpemail = document.getElementById("InputEmail");
            var InputSignUppassword = document.getElementById("InputPassword");

            var isChecked = document.getElementById("myCheckSignUp").checked;
            if (isChecked) {
                var newdiv = document.createElement("div");

                if (InputSignUpemail.value !== "" && InputSignUppassword.value !== "") {
                    newdiv.className = 'alert alert-success';
                    newdiv.innerHTML = 'Success! Restaurant owner registered!';
                    document.getElementById('toAddSignUp').appendChild(newdiv);
                    localStorage.setItem("Restaurantemail", InputSignUpemail.value);
                    localStorage.setItem("Restaurantpassword", InputSignUppassword.value);
                }
                else {
                    newdiv.className = 'alert alert-danger';
                    newdiv.innerHTML = 'Fail! Restaurant owner register failed!';
                    document.getElementById('toAddSignUp').appendChild(newdiv);
                }
            }
            else {
                var newdiv = document.createElement("div");

                if (InputSignUpemail.value !== "" && InputSignUppassword.value !== "") {
                    newdiv.className = 'alert alert-success';
                    newdiv.innerHTML = 'Success! Customer registered!';
                    document.getElementById('toAddSignUp').appendChild(newdiv);
                    localStorage.setItem("Customeremail", InputSignUpemail.value);
                    localStorage.setItem("Customerpassword", InputSignUppassword.value);
                }
                else {
                    newdiv.className = 'alert alert-danger';
                    newdiv.innerHTML = 'Fail! Customer register failed!';
                    document.getElementById('toAddSignUp').appendChild(newdiv);
                }
            }
        }

        function decideRestOrCust() {
            checkRest = localStorage.getItem('successSignInRest');
            checkCust = localStorage.getItem('successSignInCust');
            if (checkRest == 1) {
                location.href = "DashboardRest.html";
            }
            if (checkCust == 1) {
                location.href = "DashboardCust.html";
            }
            document.getElementById("toAdd").innerHTML = "";
            document.getElementById("toAddSignInSuccess").innerHTML = "";
        }

        function myFunction() {
            var x = document.getElementById("myTopnav");
            if (x.className === "topnav") {
                x.className += " responsive";
            } else {
                x.className = "topnav";
            }
        }

        function deletediv() {
            document.getElementById("toAdd").innerHTML = "";
        }

        function deletedivSignUp() {
            document.getElementById("toAddSignUp").innerHTML = "";
        }
    </script>
</body>
</html>